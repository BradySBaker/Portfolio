{"version":3,"file":"main.2bc909da39498fa28403.hot-update.js","mappings":"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","sources":["webpack://portfolio/./client/src/smallWidgets/TopBar.jsx","webpack://portfolio/webpack/runtime/getFullHash"],"sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\n\nimport styles from '../cssModules/smallWidgetsStyles.module.css';\n\nconst buttons = [ 'Home', 'Projects', 'About', 'Contact'];\n\nconst scrollPositions = {};\nconst sectionPositions = { Home: 0 };\n\nlet prevScrollPos = 0;\n\nconst scrollTo = (name) => {\n  window.scrollTo({ top: sectionPositions[name], behavior: 'smooth' });\n};\n\nconst TopBar = () => {\n  const targetElementRef = useRef(null);\n  const [buttonElements, setButtonElements] = useState([]);\n  const [barPosition, setBarPosition] = useState(0);\n\n  const setPositions = () => {\n    if (buttonElements.length < 1  && !scrollPositions.Home) {\n      return;\n    }\n\n    window.scrollTo({ top: 0 });\n\n    sectionPositions.Projects = document.getElementById('projects').getBoundingClientRect().top;\n    sectionPositions.About = document.getElementById('about').getBoundingClientRect().top;\n    sectionPositions.Contact = document.getElementById('contact').getBoundingClientRect().top;\n\n    const elements = targetElementRef.current.children;\n    for (let i = 0; i < elements.length; i++) {\n      scrollPositions[elements[i].id] = elements[i].getBoundingClientRect().left;\n    }\n    prevBarPos = scrollPositions.Home;\n    setBarPosition(scrollPositions.Home);\n  };\n\n  useEffect(() => {\n    const elements = [];\n    buttons.forEach((name) => {\n      elements.push(<div className={styles['top-buttons']} id={name} key={name} onClick={() => scrollTo(name)}>{name}</div>);\n      setButtonElements(elements);\n    })}, []);\n\n  useEffect(() => {\n    const handleScroll = () => {\n      if (Math.abs(scrollPosition - prevScrollPos) < 20) { //For performance\n        return;\n      }\n\n      console.log('occured');\n      const scrollPosition = window.scrollY;\n      let min;\n      let minKey;\n      for (const key in sectionPositions) {\n        const distance = Math.abs(sectionPositions[key] - scrollPosition);\n        if (distance < min || min === undefined) {\n          min = distance;\n          minKey = key;\n        }\n      }\n      if (min !== undefined) {\n        setBarPosition(scrollPositions[minKey]);\n        prevScrollPos = scrollPosition;\n      }\n    };\n    window.addEventListener('scroll', handleScroll);\n    window.addEventListener('resize', setPositions);\n\n    return () => {\n      window.removeEventListener('scroll', handleScroll);\n      window.removeEventListener('resize', setPositions);\n    };\n  }, []);\n\n  useEffect(setPositions, [buttonElements]);\n\n  return (\n    <div id={styles['top-element']}>\n      <div id={styles['top-bar']} ref={targetElementRef}>\n        {buttonElements}\n      </div>\n      <svg id={styles['scroll-bar']}>\n          <rect x={barPosition + 'px'} id={styles.bar} fill='#0073cf' rx=\"4px\" ry=\"4px\"/>\n      </svg>\n  </div>\n  );\n};\nexport default TopBar;\n","__webpack_require__.h = () => (\"724046ec2531ca8ccf51\")"],"names":["React","useRef","useEffect","useState","styles","jsx","_jsx","jsxs","_jsxs","buttons","scrollPositions","sectionPositions","Home","prevScrollPos","scrollTo","name","window","top","behavior","TopBar","targetElementRef","_useState","_useState2","_slicedToArray","buttonElements","setButtonElements","_useState3","_useState4","barPosition","setBarPosition","setPositions","length","Projects","document","getElementById","getBoundingClientRect","About","Contact","elements","current","children","i","id","left","prevBarPos","forEach","push","className","onClick","handleScroll","Math","abs","scrollPosition","console","log","scrollY","min","minKey","key","distance","undefined","addEventListener","removeEventListener","ref","x","bar","fill","rx","ry"],"sourceRoot":""}